(()=>{"use strict";function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(t){var n=function(t){if("object"!=e(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=e(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==e(n)?n:n+""}function n(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,t(i.key),i)}}function r(e){return r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},r(e)}function i(e,t){return i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},i(e,t)}function l(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(l=function(){return!!e})()}var o=React.Component,u=(wp.i18n.__,wp.element.Fragment),s=wp.editPost.PluginPrePublishPanel,a=wp.plugins.registerPlugin,c=wp.hooks;String.prototype.stripTags=function(){return this.replace(/(<([^>]+)>)/gi,"")};var p=function(o){function a(){var n,i,o,u;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),n=function(t,n,i){return n=r(n),function(t,n){if(n&&("object"==e(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t)}(t,l()?Reflect.construct(n,[],r(t).constructor):n.apply(t,i))}(this,a),i=n,u=!1,(o=t(o="isMounted"))in i?Object.defineProperty(i,o,{value:u,enumerable:!0,configurable:!0,writable:!0}):i[o]=u,n.state={requirements:{block:[],warning:[]}},n.updateFailedRequirements=n.updateFailedRequirements.bind(n),c.addAction("pp-checklists.update-failed-requirements","publishpress/checklists",n.updateFailedRequirements,10),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&i(e,t)}(a,o),p=a,m=[{key:"componentDidMount",value:function(){this.isMounted=!0}},{key:"componentWillUnmount",value:function(){this.isMounted=!1}},{key:"updateFailedRequirements",value:function(e){this.isMounted&&this.setState({requirements:e})}},{key:"render",value:function(){if(void 0===this.state.requirements.block||0===this.state.requirements.block.length&&0===this.state.requirements.warning.length)return null;var e=null;0<this.state.requirements.block.length&&(e=wp.element.createElement("div",null,wp.element.createElement("p",null,ppChecklists.msg_missed_required_publishing),wp.element.createElement("ul",null,this.state.requirements.block.map(function(e,t){return wp.element.createElement("li",{key:t},wp.element.createElement("span",{className:"dashicons dashicons-no"}),wp.element.createElement("span",null,e.stripTags()))}))));var t=null;if(0<this.state.requirements.warning.length){var n=0<this.state.requirements.block.length?ppChecklists.msg_missed_important_publishing:ppChecklists.msg_missed_optional_publishing;t=wp.element.createElement("div",null,wp.element.createElement("p",null,n),wp.element.createElement("ul",null,this.state.requirements.warning.map(function(e,t){return wp.element.createElement("li",{key:t},wp.element.createElement("span",{className:"dashicons dashicons-no"}),wp.element.createElement("span",null,e.stripTags()))})))}return wp.element.createElement(u,null,wp.element.createElement(s,{name:"publishpress-checklists-pre-publishing-panel",title:ppChecklists.label_checklist,initialOpen:"true"},wp.element.createElement("div",{className:"pp-checklists-failed-requirements-warning"},e,t)))}}],m&&n(p.prototype,m),Object.defineProperty(p,"prototype",{writable:!1}),p;var p,m}(o);a("pp-checklists-warning",{icon:"warning",render:function(){return wp.element.createElement(p,null)}})})();